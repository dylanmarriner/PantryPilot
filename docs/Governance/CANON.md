# CANON.md

Project: PantryPilot / Mealify  
Status: CANONICAL PRINCIPLES (Foundational Truths)

---

## 1. CORE PURPOSE

This system exists to reduce family food planning stress.

It is not built to:

- Optimize grocery arbitrage above all else.
- Maximize algorithmic novelty.
- Replace user agency.

It exists to:

- Plan the week.
- Know what to buy.
- Reduce mental load.

---

## 2. TRUST FIRST

The system must always preserve user trust.

Trust is maintained by:

- Deterministic pantry math.
- Transparent suggestion logic.
- Visible Explore Mode behavior.
- No silent reshuffling of the week.
- No silent price manipulation.

Loss of inventory integrity = system failure.

---

## 3. INVENTORY TRUTH

Pantry is ledger-based.

Inventory is derived.
It is never overwritten.

Stock is deducted only when:

- A meal is marked cooked.
- A lunch is marked packed.

Plans do not change stock.
Only actions change stock.

---

## 4. GROCERY TRUTH

Grocery list shows missing ingredients only.

Pantry items are invisible on the grocery list.

Completed shops become historical records.
Edits create correction entries.
History is not silently rewritten.

---

## 5. LEARNING PHILOSOPHY

Learning is:

- Implicit first.
- Explicit override capable.
- Soft weighted.
- Decay-enabled.

Dinner learning = Household level.
Lunch learning = ChildProfile level.

Repetition is discouraged softly.
It is never hard banned unless explicitly marked.

---

## 6. PRICE PHILOSOPHY

Price intelligence is passive.

It:

- Affects cost totals.
- Affects store comparison.
- Does not secretly steer meal selection.

Displayed:

- Last paid price (primary).
- Average unit price (secondary).

All prices normalized to base unit.

Planner reads from daily snapshot.
Never live scraping.

---

## 7. UI PHILOSOPHY

Home screen must:

- Show what matters right now.
- Be time-aware.
- Remain uncluttered.

Swap interaction must:

- Use bottom sheet.
- Preserve context.
- Feel reversible.

System tone:
Slightly opinionated.
Never authoritarian.

---

## 8. SHARED HOUSEHOLD GOVERNANCE

Users are isolated by default.
Data is scoped by household_id.

Within a household:

- Adults have equal edit rights.
- Changes are visible via "last updated by".
- No approval gating required.

---

## 9. PERFORMANCE PRINCIPLE

Swaps must feel instant.

Planner must not:

- Trigger scraping.
- Block on network-heavy operations.

All heavy work must be backgrounded.

---

## 10. PHASE DISCIPLINE

Web app ships first.
Engine stability precedes mobile build.

Catalog expansion is phased.
Core products first.

---

CANON STATUS: ACTIVE
